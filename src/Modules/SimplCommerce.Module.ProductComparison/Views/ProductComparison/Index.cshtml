@model SimplCommerce.Module.ProductComparison.ViewModels.ProductComparisonVm

@{
    ViewData["Title"] = "Compare products";
}

<h1>Compare products</h1>
<table class="table table-striped table-bordered">
    <tr>
        <td> </td>
        @foreach (var product in Model.Products)
        {
            <td>Remove</td>
        }
    </tr>
    <tr>
        <td> </td>
        @foreach (var product in Model.Products)
        {
            <td><img alt="@product.ProductName" class="img-responsive" src="@product.ProductImage"></td>
        }
    </tr>
    <tr>
        <td><strong>Name</strong></td>
        @foreach (var product in Model.Products)
        {
            <td><strong>@product.ProductName</strong></td>
        }
    </tr>
    <tr>
        <td><strong>Price</strong></td>
        @foreach (var product in Model.Products)
        {
            <td>@product.ProductPrice</td>
        }
    </tr>
    @foreach(var attribute in Model.Attributes)
    {
        <tr>
            <td><strong>@attribute.Name</strong></td>
            @foreach (var product in Model.Products)
            {
                <td>
                    @{ 
                        var value = product.AttributeValues.FirstOrDefault(x => x.AttributeId == attribute.AttributeId)?.Value ?? "";
                        }
                    @value
                </td>
            }
        </tr>
    }
</table>
